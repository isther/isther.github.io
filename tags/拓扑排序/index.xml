<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>æ‹“æ‰‘æ’åº on Ther&#39;s Blog ğŸ‘‹</title>
    <link>https://www.niuwx.cn/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/</link>
    <description>Recent content in æ‹“æ‰‘æ’åº on Ther&#39;s Blog ğŸ‘‹</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 27 Mar 2021 19:02:51 +0800</lastBuildDate><atom:link href="https://www.niuwx.cn/tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>æ‹“æ‰‘æ’åº</title>
      <link>https://www.niuwx.cn/posts/%E7%AE%97%E6%B3%95/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/</link>
      <pubDate>Sat, 27 Mar 2021 19:02:51 +0800</pubDate>
      
      <guid>https://www.niuwx.cn/posts/%E7%AE%97%E6%B3%95/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/</guid>
      <description>ç®€å•ä»‹ç»äº†ä¸€ä¸‹æ‹“æ‰‘æ’åº</description>
      <content:encoded><![CDATA[<p>è¿™ç¯‡æ–‡ç« å°†ä»‹ç»å›¾è®ºä¸­çš„æ‹“æ‰‘æ’åºã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯æ‹“æ‰‘æ’åº">ä»€ä¹ˆæ˜¯æ‹“æ‰‘æ’åºï¼Ÿ</h3>
<p>å¯¹äºä»»ä½•æœ‰å‘æ— ç¯å›¾è€Œè¨€ï¼Œå…¶æ‹“æ‰‘æ’åºä¸ºå…¶æ‰€æœ‰ç»“ç‚¹çš„ä¸€ä¸ªçº¿æ€§æ’åºï¼ˆå¯¹äºåŒä¸€ä¸ªæœ‰å‘äº”ç¯å›¾è€Œè¨€å¯èƒ½å­˜åœ¨å¤šä¸ªè¿™æ ·çš„ç»“ç‚¹æ’åºï¼‰ã€‚</p>
<h3 id="æ‹“æ‰‘æ’åº">æ‹“æ‰‘æ’åº</h3>
<ul>
<li>å…¥åº¦ï¼šæŒ‡å‘vçš„è¾¹çš„ä¸ªæ•°å«åšvçš„å…¥åº¦ã€‚</li>
<li>å‡ºåº¦ï¼švæŒ‡å‘çš„ç‚¹çš„ä¸ªæ•°å«åšvçš„å‡ºåº¦ã€‚</li>
</ul>
<p>å¦‚æœä¸€ä¸ªç‚¹çš„å…¥åº¦æ˜¯<code>0</code>ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªç‚¹æ˜¯èµ·ç‚¹ï¼ˆèµ·ç‚¹ä¸æ­¢ä¸€ä¸ªï¼‰ã€‚å¦‚æœä¸€ä¸ªç‚¹çš„å‡ºåº¦ä¸º<code>0</code>ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªç‚¹æ’åœ¨æœ€åã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/28251536/cloudimg@master/imgDAG1.jpg" alt="DAG1"  />
</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼Œå…¶æŒ‡å‘é¡ºåºä¸º<code>a,(b,c),d,e</code>,åˆ™<code>abcde</code>å’Œ<code>acbde</code>éƒ½æ˜¯è¿™ä¸ªå›¾çš„æ‹“æ‰‘æ’åºã€‚</p>
<p>å¾ˆæ˜¾ç„¶ï¼Œä¸€ä¸ªå›¾æ˜¯æœ‰å‘æ— ç¯å›¾(DAG)æ˜¯å…¶å¯ä»¥è¿›è¡Œæ‹“æ‰‘æ’åºçš„å……è¦æ¡ä»¶ã€‚</p>
<h3 id="æ‹“æ‰‘æ’åºçš„å®ç°">æ‹“æ‰‘æ’åºçš„å®ç°</h3>
<p>DFSå’ŒBFSéƒ½å¯ä»¥å®ç°æ‹“æ‰‘æ’åºã€‚</p>
<h4 id="bfså®ç°æ‹“æ‰‘æ’åº">BFSå®ç°æ‹“æ‰‘æ’åº</h4>
<p>è¿™ç§ç®—æ³•ä¹Ÿå«åšKahnç®—æ³•</p>
<p>ç»§ç»­ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­è¿›è¡Œè¯´æ˜</p>
<p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/28251536/cloudimg@master/imgDAG1.jpg" alt="DAG1"  />
</p>
<p>BFSå®ç°æ‹“æ‰‘æ’åºæœ‰ä¸¤ä¸ªå®ç°æ–¹å‘ï¼Œå³æ— å‰é©±çš„é¡¶ç‚¹ä¼˜å…ˆã€æ— åç»§çš„é¡¶ç‚¹ä¼˜å…ˆï¼Œç®€å•ç‚¹è¯´å°±æ˜¯é¡ºç€æ‰¾æˆ–å€’ç€æ‰¾ã€‚ä¸¤ç§æ–¹æ³•éƒ½å·®ä¸å¤šï¼Œåœ¨è¿™é‡Œåªä»‹ç»æ— å‰é©±çš„å®šç‚¹ä¼˜å…ˆã€‚</p>
<p>æ— å‰é©±çš„é¡¶ç‚¹ä¼˜å…ˆå°±æ˜¯é¡ºç€æ‰¾ï¼Œaçš„å…¥åº¦ä¸º<code>0</code>ï¼Œåˆ™å…¶ä¸ºèµ·ç‚¹ï¼Œaå…¥é˜Ÿï¼›</p>
<p>aå‡ºé˜Ÿï¼ŒaæŒ‡å‘äº†cï¼Œcçš„å…¥åº¦å‡ä¸€ï¼Œåˆ¤æ–­å…¶å…¥åº¦æ˜¯å¦ä¸ºé›¶ï¼Œè‹¥ä¸ºé›¶ï¼Œåˆ™å…¥é˜Ÿï¼Œåˆ™cå…¥é˜Ÿï¼ŒbåŒç†ä¹Ÿå…¥é˜Ÿï¼›</p>
<p>ç›®å‰é˜Ÿåˆ—ä¸­æœ‰{c,b}ï¼Œcå‡ºé˜Ÿï¼ŒcæŒ‡å‘dï¼Œdå…¥åº¦å‡ä¸€ï¼Œdå…¥åº¦ä¸ä¸ºé›¶ï¼Œä¸å…¥é˜Ÿï¼›</p>
<p>bå‡ºé˜Ÿï¼ŒbæŒ‡å‘dï¼Œdå…¥åº¦å‡ä¸€ï¼Œdå…¥åº¦ä¸ºé›¶ï¼Œå…¥é˜Ÿï¼›</p>
<p>då‡ºé˜Ÿï¼ŒdæŒ‡å‘eï¼Œeå…¥åº¦å‡ä¸€ï¼Œeå…¥åº¦ä¸ºé›¶ï¼Œå…¥é˜Ÿï¼›</p>
<p>eå‡ºé˜Ÿï¼Œæ— åç»­ç»“ç‚¹ï¼Œç»“æŸã€‚</p>
<p>ç”±ä¸Šè¿°è¿‡ç¨‹å¯å¾—æ‹“æ‰‘æ’åºä¸º<code>acbde</code>ã€‚</p>
<h6 id="æ—¶é—´å¤æ‚åº¦">æ—¶é—´å¤æ‚åº¦</h6>
<p>å‡è®¾è¿™ä¸ªå›¾$G = (V,E)$ï¼Œåˆ™å…¶æ—¶é—´å¤æ‚åº¦ä¸º$O(E+V)$ã€‚</p>
<p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">100005</span>;
<span style="color:#66d9ef">int</span> T, n, m, u, v;

<span style="color:#66d9ef">int</span> deg[N];
<span style="color:#66d9ef">int</span> vis[N];
<span style="color:#66d9ef">int</span> dest[N];
vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> g[N];
queue<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> q;

<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">toposort</span>() {
    <span style="color:#75715e">//å°†å…¥åº¦ä¸ºé›¶çš„ç‚¹æ”¾å…¥é˜Ÿåˆ—
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n; i<span style="color:#f92672">++</span>) {
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>deg[i]) {
            vis[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
            q.push(i);
        }
    }

    <span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>q.empty()) {
        <span style="color:#66d9ef">int</span> now <span style="color:#f92672">=</span> q.front();
        q.pop();
        dest[num<span style="color:#f92672">++</span>] <span style="color:#f92672">=</span> now;

        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> to : g[now]) {
            <span style="color:#66d9ef">if</span> (vis[to])  <span style="color:#75715e">//åˆ¤æ–­è¯¥èŠ‚ç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">continue</span>;
            <span style="color:#66d9ef">else</span> {
                deg[to]<span style="color:#f92672">--</span>;        <span style="color:#75715e">//å…¥åº¦å‡ä¸€
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>deg[to]) {   <span style="color:#75715e">//åˆ¤æ–­å…¥åº¦æ˜¯å¦ä¸ºé›¶
</span><span style="color:#75715e"></span>                    q.push(to);   <span style="color:#75715e">//å…¥é˜Ÿ
</span><span style="color:#75715e"></span>                    vis[to] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  <span style="color:#75715e">//æ ‡è®°å…¶åœ¨é˜Ÿåˆ—ä¸­
</span><span style="color:#75715e"></span>                }
            }
        }
    }
    <span style="color:#66d9ef">if</span> (num <span style="color:#f92672">==</span> n)
        <span style="color:#66d9ef">return</span> true;
    <span style="color:#66d9ef">else</span>
        <span style="color:#66d9ef">return</span> false;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[]) {
    memset(deg, <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">sizeof</span>(deg));
    memset(vis, <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">sizeof</span>(vis));
    memset(dest, <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">sizeof</span>(dest));

    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> N; i<span style="color:#f92672">++</span>)
        g[i].clear();

    <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!</span>q.empty())
        q.pop();
    <span style="color:#75715e">//ä»¥ä¸Šä¸ºåˆå§‹åŒ–
</span><span style="color:#75715e"></span>
    cin <span style="color:#f92672">&gt;&gt;</span> n <span style="color:#f92672">&gt;&gt;</span> m;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> m; i<span style="color:#f92672">++</span>) {
        scanf(<span style="color:#e6db74">&#34;%d%d&#34;</span>, <span style="color:#f92672">&amp;</span>u, <span style="color:#f92672">&amp;</span>v);  <span style="color:#75715e">//è¯»å…¥
</span><span style="color:#75715e"></span>        g[u].push_back(v);
        deg[v]<span style="color:#f92672">++</span>;  <span style="color:#75715e">//ç»Ÿè®¡å…¥åº¦
</span><span style="color:#75715e"></span>    }

    <span style="color:#66d9ef">if</span> (toposort()) {<span style="color:#75715e">//å¦‚æœå¯ä»¥ç”Ÿæˆæ‹“æ‰‘æ’åº
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>)  <span style="color:#75715e">//è¾“å‡ºç»“æœ
</span><span style="color:#75715e"></span>            printf(<span style="color:#e6db74">&#34;%d%c&#34;</span>, dest[i], i <span style="color:#f92672">==</span> n <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;\n&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39; &#39;</span>);
    }
    <span style="color:#66d9ef">else</span> printf(<span style="color:#e6db74">&#34;NO</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);

    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#75715e">//æµ‹è¯•æ•°æ®
</span><span style="color:#75715e">//æœ‰å‘æœ‰ç¯å›¾
</span><span style="color:#75715e"></span><span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">4</span> <span style="color:#ae81ff">2</span>
<span style="color:#75715e">//æœ‰å‘æ— ç¯å›¾
</span><span style="color:#75715e"></span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">1</span> <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">2</span> <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span>
</code></pre></div><h4 id="dfså®ç°æ‹“æ‰‘æ’åº">DFSå®ç°æ‹“æ‰‘æ’åº</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> N <span style="color:#f92672">=</span> <span style="color:#ae81ff">100005</span>;

<span style="color:#66d9ef">int</span> n, u, v;
<span style="color:#66d9ef">int</span> c[N];          <span style="color:#75715e">// æ ‡å¿—æ•°ç»„
</span><span style="color:#75715e"></span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> G[N];  <span style="color:#75715e">// vector å®ç°çš„é‚»æ¥è¡¨
</span><span style="color:#75715e"></span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> topo;  <span style="color:#75715e">// æ‹“æ‰‘æ’åºåçš„èŠ‚ç‚¹
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">dfs</span>(<span style="color:#66d9ef">int</span> u) {
    c[u] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> v : G[u]) {
        <span style="color:#66d9ef">if</span> (c[v] <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>)
            <span style="color:#66d9ef">return</span> false;
        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>c[v])
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>dfs(v))
                <span style="color:#66d9ef">return</span> false;
    }
    c[u] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
    topo.push_back(u);
    <span style="color:#66d9ef">return</span> true;
}

<span style="color:#66d9ef">bool</span> <span style="color:#a6e22e">toposort</span>() {
    topo.clear();
    memset(c, <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">sizeof</span>(c));
    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> u <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; u <span style="color:#f92672">&lt;</span> n; u<span style="color:#f92672">++</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>c[u])
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>dfs(u))
                <span style="color:#66d9ef">return</span> false;
    reverse(topo.begin(), topo.end());
    <span style="color:#66d9ef">return</span> true;
}

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#66d9ef">const</span> <span style="color:#f92672">*</span>argv[]) {
    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div>]]></content:encoded>
    </item>
    
  </channel>
</rss>
